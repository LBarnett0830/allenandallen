<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction"
                access="global" controller="RequestController" >
    <aura:attribute name="request" type="Object" />
    <aura:attribute name="accountId" type="String" />
    <aura:attribute name="listAction" type="Boolean" default="false"/>
    <force:recordData aura:id="requestData"
                      layoutType="FULL"
                      fields="Lexitas_Received_By_Legal_Firm__c"
                      recordId="{!v.recordId}"
                      targetError="{!v.recordError}"
                      targetFields="{!v.request}"
                      mode="EDIT"/>
    <div class="slds-align_absolute-center" style="height:5rem">
        <aura:if isTrue="{!not(v.request.ordered__c)}">
            <lightning:button aura:id="submit-order" onclick="{!c.switchOrderStatus}" label="Order record"
                              class="slds-button slds-button_outline-brand"/>
        </aura:if>
        <aura:if isTrue="{!and(v.request.ordered__c, not(v.request.cancelled__c))}">
            <lightning:button aura:id="submit-cancel" onclick="{!c.cancelOrder}" label="Cancel order"
                              class="slds-button slds-button_outline-brand"/>
        </aura:if>
        <aura:if isTrue="{!v.request.cancelled__c}">
            <p class="no-actions-message">This request has been cancelled. Please create a new request if needed.</p>
        </aura:if>
        <aura:if
                isTrue="{!(v.request.ordered__c &amp;&amp; not(v.request.Lexitas_Received_By_Legal_Firm__c) &amp;&amp; not(v.request.cancelled__c))}">
            <lightning:button aura:id="submit-received-by-law-firm" onclick="{!c.changeReceivedByLegalFirm}"
                              label="Received by law firm" class="slds-button slds-button_outline-brand"/>
        </aura:if>
    </div>
</aura:component>